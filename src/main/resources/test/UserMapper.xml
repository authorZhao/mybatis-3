<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.git.test.mapper.UserMapper">

    <!--插入用户信息-->
    <insert id="save" parameterType="com.git.test.po.User">
        <!--<selectKey keyProperty="id" order="BEFORE" resultType="java.lang.String">
            select uuid()
            &lt;!&ndash;            这里是对于主键属性的id进行赋值 &ndash;&gt;
        </selectKey>-->
        INSERT INTO `test_user` (`name`, `sex`, `avatar`,`data_version`)
        VALUES (#{user.name}, #{user.sex}, #{user.avatar}, #{user.dataVersion});
    </insert>

    <select id="getById" parameterType="long" resultType="int">
        SELECT * FROM `test_user` WHERE id = #{id};
    </select>

    <update id="updateUsers">
        update user set name='夏侯惇',password='54321',create_time=now() where id in
        <foreach collection="ids" item="id" separator="," open="(" close=")">
            #{id}
        </foreach>
    </update>



    <update id="updateById" parameterType="com.git.test.po.User">
        update test_user set `name`=#{user.name},`sex`=#{user.sex},`avatar`=#{user.avatar},`data_version`=#{user.dataVersion} where id = #{user.id}
    </update>



</mapper>
